<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{% block title %}COMSOC Attendance System{% endblock %}</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    :root{
      --orange: #F37B21;
      --bg: #FFF4DD;
      --dark: #17100B;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Inter',sans-serif;
      background:var(--bg);
      color:var(--dark);
    }

    .layout{
      display:grid;
      grid-template-columns:330px 1fr;
      min-height:150vh;
    }

    .sidebar{
      background:var(--bg);
      padding:34px 20px;
      display:flex;
      flex-direction:column;
    }

    .sidebar-logo{
      margin-bottom:30px;
      text-align:center;
    }
    .sidebar-logo img{
      display:inline-block;
      width:300px;   
      max-width:100%;
      height:auto;
    }

    nav{margin-top:8px;display:flex;flex-direction:column;gap:18px}

    .nav-link{
      display:flex;
      align-items:center;
      gap:14px;
      text-decoration:none;
      color:var(--dark);
      font-weight:400; /* Regular by default */
      font-size:18px;
      padding:16px 18px;
      border-radius:30px 0 0 30px;
      margin-right:-20px;
      background:transparent;
      transition:background-color .3s ease, color .3s ease, transform .2s ease, font-weight .2s ease;
    }

    .nav-link i{width:28px;text-align:center;font-size:20px}

    .nav-link:hover{
      background:rgba(243,123,33,0.15);
      transform:translateX(4px);
    }

    .nav-link.active{
      background:var(--orange);
      color:#fff;
      font-weight:600; /* Semi-bold active */
    }

    .main{
      background:#fff;
      padding:34px;
      min-height:100vh;
      overflow:auto;
      transition:opacity .3s ease;
    }

    .main.fade-out{opacity:0.4}

    .topbar{
      text-align:right;
      font-weight:700;
      font-size:14px;
      color:var(--dark);
      margin-bottom:18px;
    }

    @media(max-width:880px){
      .layout{grid-template-columns:280px 1fr}
      .sidebar-logo img{width:240px}
    }
  </style>
  {% block extra_css %}{% endblock %}
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="sidebar-logo">
        <img src="{{ url_for('static', filename='Frame.png') }}" alt="ComSoc Logo">
      </div>

      <nav>
        <a href="{{ url_for('main.index') }}" class="nav-link {% if request.endpoint == 'main.index' %}active{% endif %}">
          <i class="fas fa-th-large"></i>
          <span>Dashboard</span>
        </a>
        <a href="{{ url_for('students.index') }}" class="nav-link {% if 'students.' in request.endpoint %}active{% endif %}">
          <i class="fas fa-user"></i>
          <span>Student</span>
        </a>
        <a href="{{ url_for('events.index') }}" class="nav-link {% if 'events.' in request.endpoint %}active{% endif %}">
          <i class="fas fa-calendar"></i>
          <span>Calendar of Events</span>
        </a>
        <a href="{{ url_for('scanner.index') }}" class="nav-link {% if 'scanner.' in request.endpoint %}active{% endif %}">
          <i class="fas fa-qrcode"></i>
          <span>QR Codes</span>
        </a>
      </nav>
    </aside>

    <main class="main" id="mainContent">
      <div class="topbar">COMSOC ATTENDANCE</div>
      <div class="content">
        {% block content %}{% endblock %}
      </div>
    </main>
  </div>

  <script>
    document.querySelectorAll('.nav-link').forEach(link=>{
      link.addEventListener('click',e=>{
        const main=document.getElementById('mainContent');
        main.classList.add('fade-out');
        setTimeout(()=>{
          window.location=link.href;
        },200);
        e.preventDefault();
      })
    })
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>
